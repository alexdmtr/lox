fun counter() {
    var i = 0;

    return fun() {
        i = i + 1;
        return i;
    };
}

var count = counter();

for (; ;) {
    var x = count();
    print x;
    if (x >= 5)
        break;
}